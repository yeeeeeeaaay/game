<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–ö–∞–ø–∏–±–∞—Ä–∞ –∏ —à–æ–∫–æ–ª–∞–¥–∫–∞</title>
<style>
body {margin:0; font-family:'Comic Sans MS', Arial, sans-serif; background:#ffe066; text-align:center; overflow:hidden;}
#gameScreen {position:relative; width:100vw; height:100vh;}
#capy {position:absolute; width:150px; height:150px; background-image:url("https://png.pngtree.com/png-clipart/20240709/original/pngtree-cartoon-capybara-with-blue-suit-vector-png-image_15523170.png"); background-size:contain; background-repeat:no-repeat; top:50%; left:50%; transform:translate(-50%,-50%);}
#snickers {position:absolute; width:100px; height:40px; background-image:url("https://snickersni.kz/i/packs/dushnila.png"); background-size:contain; background-repeat:no-repeat; top:100px; left:100px;}
#bubblesCanvas {position:fixed; top:0; left:0; width:100%; height:100%; pointer-events:none; z-index:9999;}
iframe {position:absolute; top:10px; left:50%; transform:translateX(-50%); width:320px; height:180px; border:none; border-radius:12px;}
</style>
</head>
<body>
<div id="gameScreen">
  <div id="capy"></div>
  <div id="snickers"></div>
</div>
<canvas id="bubblesCanvas"></canvas>

<!-- –ú—É–∑—ã–∫–∞ LISA -->
<iframe src="https://www.youtube.com/embed/kbEC-AGr9n0?start=13&autoplay=1&controls=0&rel=0&modestbranding=1&iv_load_policy=3&playsinline=1" allow="autoplay; encrypted-media" allowfullscreen></iframe>

<script>
const capy = document.getElementById("capy");
const snickers = document.getElementById("snickers");
const bubblesCanvas = document.getElementById("bubblesCanvas");
const ctx = bubblesCanvas.getContext("2d");
bubblesCanvas.width = window.innerWidth;
bubblesCanvas.height = window.innerHeight;

// –ü–æ–∑–∏—Ü–∏–∏ –∫–∞–ø–∏–±–∞—Ä—ã
let posX = window.innerWidth/2 - 75;
let posY = window.innerHeight/2 - 75;

// –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–º
let keys = {ArrowUp:false, ArrowDown:false, ArrowLeft:false, ArrowRight:false};
document.addEventListener("keydown", (e)=>{if(keys.hasOwnProperty(e.key)) keys[e.key]=true;});
document.addEventListener("keyup", (e)=>{if(keys.hasOwnProperty(e.key)) keys[e.key]=false;});

// –§—É–Ω–∫—Ü–∏—è –¥–≤–∏–∂–µ–Ω–∏—è –∫–∞–ø–∏–±–∞—Ä—ã
function moveCapy() {
  // –°–ª—É—á–∞–π–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ
  let dx = (Math.random()-0.5)*5;
  let dy = (Math.random()-0.5)*5;

  // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–µ–ª–∫–∞–º–∏
  const speed = 7;
  if(keys.ArrowUp) dy -= speed;
  if(keys.ArrowDown) dy += speed;
  if(keys.ArrowLeft) dx -= speed;
  if(keys.ArrowRight) dx += speed;

  posX += dx;
  posY += dy;

  // –ì—Ä–∞–Ω–∏—Ü—ã —ç–∫—Ä–∞–Ω–∞
  if(posX<0) posX=0;
  if(posY<0) posY=0;
  if(posX>window.innerWidth-150) posX=window.innerWidth-150;
  if(posY>window.innerHeight-150) posY=window.innerHeight-150;

  capy.style.left = posX+"px";
  capy.style.top = posY+"px";

  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–µ —Å–æ Snickers
  const capyRect = capy.getBoundingClientRect();
  const snickRect = snickers.getBoundingClientRect();
  if(!(capyRect.right<snickRect.left || capyRect.left>snickRect.right || capyRect.bottom<snickRect.top || capyRect.top>snickRect.bottom)){
    win();
  }

  requestAnimationFrame(moveCapy);
}

// –ü–æ–±–µ–¥–∞
function win() {
  alert("–ü–æ–∑–¥—Ä–∞–≤–ª—è—é! –ö–∞–ø–∏–±–∞—Ä–∞ —Å—ä–µ–ª–∞ Snickers! üéâ");
  createBubbles(300);
  capy.style.display="none";
  snickers.style.display="none";
}

// –ü—É–∑—ã—Ä—å–∫–∏
function createBubbles(count){
  let bubbles=[];
  for(let i=0;i<count;i++){
    bubbles.push({x:Math.random()*window.innerWidth, y:Math.random()*window.innerHeight, radius:Math.random()*10+5, speed:Math.random()*2+1, opacity:Math.random()*0.5+0.5});
  }
  function draw(){
    ctx.clearRect(0,0,window.innerWidth, window.innerHeight);
    bubbles.forEach(b=>{
      ctx.beginPath();
      ctx.arc(b.x,b.y,b.radius,0,Math.PI*2);
      ctx.fillStyle=`rgba(173,216,230,${b.opacity})`;
      ctx.fill();
      b.y -= b.speed;
      if(b.y+b.radius<0) b.y=window.innerHeight+b.radius;
    });
    requestAnimationFrame(draw);
  }
  draw();
}

// –ó–∞–ø—É—Å–∫
moveCapy();
</script>
</body>
</html>

